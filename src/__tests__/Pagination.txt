import { render, fireEvent } from '@testing-library/react';
//import { createMemoryHistory } from 'history'
import { Router } from 'react-router-dom'
import AppContext from '../context/AppContext';
import Pagination from '../components/Pagination/Pagination';

test('updates URL query parameter when page changes', () => {
  const history = createMemoryHistory()
  const { getByText } = render(
    <Router history={history}>
      <AppContext.Provider>
        <Pagination />
      </AppContext.Provider>
    </Router>
  )

  // Click 'Next page' button
  fireEvent.click(getByText('Next page'))

  // Check if the URL has changed to the next page
  expect(history.location.pathname).toBe('/page=2')

  // Click 'Previous page' button
  fireEvent.click(getByText('Previous page'))

  // Check if the URL has changed to the previous page
  expect(history.location.pathname).toBe('/page=1')
})
